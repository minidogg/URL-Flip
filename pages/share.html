<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>URL Flip - Share</title>

    <link rel="stylesheet" href="/global.css" />
  </head>
  <body>
    <nav />

    <div class="tall-boi">
      <div class="container">
        <h1>URL Shortened Successfully!</h1>
        <p class="shareLink">Your link to share: SHARE_LINK</a>
        <hr />
        <a href="/">OR shorten another URL</p>
        <hr />
        <div id="qrcode">
          <p>
            Enable JavaScript to view QR code. If you already have JavaScript
            enabled, please wait.
          </p>
        </div>
        <button id="downloadQrcode" style="display: none">
          Download QR Code
        </button>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/qrcode-generator@1.4.4/qrcode.min.js"></script>
    <script>
      let qrcodeEl = document.getElementById("qrcode");
      var typeNumber = 4;
      var errorCorrectionLevel = "L";
      var qr = qrcode(typeNumber, errorCorrectionLevel);
      qr.addData(a.href);
      qr.make();
      qrcodeEl.innerHTML = qr.createImgTag();
      qrcodeEl.querySelector("img").classList.add("linkQrcode");

      let downloadButton = document.querySelector("#downloadQrcode");
      downloadButton.addEventListener("click", () => {
        var link = document.createElement("a");
        link.href = qrcodeEl.querySelector("img").src;
        link.setAttribute("download", "qrcode.png");
        link.style.display = "none";
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);
      });
      downloadButton.style.display = "block";
    </script>
  </body>
</html>
